<div align="center">

# Trellolite

–ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –∏ –±—ã—Å—Ç—Ä—ã–π –∫–ª–æ–Ω Trello: –¥–æ—Å–∫–∏ ‚Üí —Å–ø–∏—Å–∫–∏ ‚Üí –∫–∞—Ä—Ç–æ—á–∫–∏, live‚Äë–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ SSE, drag‚Äëand‚Äëdrop –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ —Ü–≤–µ—Ç–∞.

<p>
   <a href="https://www.postgresql.org/" target="_blank"><img alt="Postgres" src="https://img.shields.io/badge/Postgres-16-4169E1?logo=postgresql&logoColor=white"></a>
   <img alt="Go" src="https://img.shields.io/badge/Go-1.21+-00ADD8?logo=go&logoColor=white">
   <img alt="License" src="https://img.shields.io/badge/License-MIT-green">
   <img alt="Docker Compose" src="https://img.shields.io/badge/Docker-Compose-2496ED?logo=docker&logoColor=white">
</p>

</div>

## –î–µ–º–æ

–ì–æ—Ç–æ–≤–∞—è —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–∞—è –≤–µ—Ä—Å–∏—è: https://trellolite.xtrim.work/

## –û–±–∑–æ—Ä ‚ú®

Trellolite ‚Äî —É—á–µ–±–Ω—ã–π –∏ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å‚Äë–ø—Ä–æ–µ–∫—Ç, –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—â–∏–π:
- –ß–∏—Å—Ç—ã–π backend –Ω–∞ Go + Postgres —Å –ø—Ä–æ—Å—Ç—ã–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º –∏ –º–∏–≥—Ä–∞—Ü–∏—è–º–∏
- –†–µ–∞–ª—å–Ω–æ–µ‚Äë–≤—Ä–µ–º—è —á–µ—Ä–µ–∑ Server‚ÄëSent Events (SSE) –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –±—Ä–æ–∫–µ—Ä–æ–≤
- –í–∞–Ω–∏–ª—å–Ω—ã–π frontend (–±–µ–∑ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤): HTML5 DnD, <dialog>, —Ç—ë–º–Ω–∞—è/—Å–≤–µ—Ç–ª–∞—è —Ç–µ–º—ã, i18n (EN/RU)
- –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ä–∞–∑—Ä–µ–∂—ë–Ω–Ω–æ–π —Å–µ—Ç–∫–æ–π (sparse ints) –∏ –∞–≤—Ç–æ‚Äë–ø–µ—Ä–µ–ø–∞–∫–æ–≤–∫–æ–π
- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ü–≤–µ—Ç–∞ –¥–ª—è –¥–æ—Å–æ–∫/—Å–ø–∏—Å–∫–æ–≤/–∫–∞—Ä—Ç–æ—á–µ–∫ —Å –±—ã—Å—Ç—Ä—ã–º –¥–∏–∞–ª–æ–≥–æ–º –≤—ã–±–æ—Ä–∞
- –ë–∞–∑–æ–≤–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (email+–ø–∞—Ä–æ–ª—å) –∏ OAuth (GitHub)
 - –ë–∞–∑–æ–≤–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (email+–ø–∞—Ä–æ–ª—å) –∏ OAuth (GitHub, Google)

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ üöÄ

- –î–æ—Å–∫–∏, —Å–ø–∏—Å–∫–∏, –∫–∞—Ä—Ç–æ—á–∫–∏, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –∫–∞—Ä—Ç–æ—á–∫–∞–º
- Drag‚Äëand‚Äëdrop:
   - –ö–∞—Ä—Ç–æ—á–∫–∏ –≤–Ω—É—Ç—Ä–∏ —Å–ø–∏—Å–∫–∞ –∏ –º–µ–∂–¥—É —Å–ø–∏—Å–∫–∞–º–∏
   - –ö–∞—Ä—Ç–æ—á–∫–∏ –∏ —Å–ø–∏—Å–∫–∏ –º–µ–∂–¥—É –æ–∫–Ω–∞–º–∏ –±—Ä–∞—É–∑–µ—Ä–∞ (cross‚Äëwindow DnD)
   - –°–ø–∏—Å–∫–∏ –≤–Ω—É—Ç—Ä–∏ –¥–æ—Å–∫–∏ –∏ –º–µ–∂–¥—É –¥–æ—Å–∫–∞–º–∏ (drag –∑–∞–≥–æ–ª–æ–≤–∫–∞ —Å–ø–∏—Å–∫–∞ –Ω–∞ –¥–æ—Å–∫—É –≤ —Å–∞–π–¥–±–∞—Ä–µ)
   - –î–æ—Å–∫–∏ –≤ —Å–∞–π–¥–±–∞—Ä–µ (–ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–∞)
- SSE‚Äë—Å–æ–±—ã—Ç–∏—è –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –≤–æ –≤—Å–µ—Ö –æ—Ç–∫—Ä—ã—Ç—ã—Ö –∫–ª–∏–µ–Ω—Ç–∞—Ö
- –í—ã–±–æ—Ä —Ü–≤–µ—Ç–∞ –¥–ª—è: –¥–æ—Å–∫–∏, —Å–ø–∏—Å–∫–∞, –∫–∞—Ä—Ç–æ—á–∫–∏ (–∏–∫–æ–Ω–∫–∞ –ø–∞–ª–∏—Ç—Ä—ã ‚Üí –¥–∏–∞–ª–æ–≥)
- –¢–µ–º–Ω–∞—è/—Å–≤–µ—Ç–ª–∞—è/–∞–≤—Ç–æ —Ç–µ–º–∞ (–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ)
- –ì—Ä—É–ø–ø—ã –∏ –¥–æ—Å—Ç—É–ø –∫ –¥–æ—Å–∫–∞–º: –≤–ª–∞–¥–µ–ª–µ—Ü –¥–æ—Å–∫–∏ –º–æ–∂–µ—Ç –æ—Ç–∫—Ä—ã—Ç—å –µ—ë –¥–ª—è —Å–≤–æ–∏—Ö –≥—Ä—É–ø–ø; —É—á–∞—Å—Ç–Ω–∏–∫–∏ –º–æ–≥—É—Ç –ø–æ–∫–∏–¥–∞—Ç—å –≥—Ä—É–ø–ø—ã
- –§–∏–ª—å—Ç—Ä –≤–∏–¥–∏–º–æ—Å—Ç–∏ –¥–æ—Å–æ–∫: –¥–≤–µ –æ—Ç–∂–∏–º–∞–µ–º—ã–µ –∫–Ω–æ–ø–∫–∏ ¬´–ú–æ–∏¬ª –∏ ¬´–ì—Ä—É–ø–ø—ã¬ª —Å –∑–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏—è
- –°–≤–æ—Ä–∞—á–∏–≤–∞–µ–º—ã–π —Å–∞–π–¥–±–∞—Ä: –≤ —Å–≤–µ—Ä–Ω—É—Ç–æ–º –≤–∏–¥–µ –æ—Å—Ç–∞—ë—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–Ω–æ–ø–∫–∞ —Ä–∞–∑–≤–æ—Ä–æ—Ç–∞ (–≥–∞–º–±—É—Ä–≥–µ—Ä)
- –í–∏–∑—É–∞–ª—å–Ω–∞—è –ø–æ–¥—Å–∫–∞–∑–∫–∞ –¥–ª—è ¬´—á—É–∂–∏—Ö¬ª –¥–æ—Å–æ–∫ –∏–∑ –≥—Ä—É–ø–ø ‚Äî –∏–∫–æ–Ω–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤–º–µ—Å—Ç–æ –∏–∫–æ–Ω–∫–∏ –¥–æ—Å–∫–∏

## –°—Ç–µ–∫ üß∞

- Backend: Go 1.21+ (net/http, database/sql, pgx v5), –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ slog
- DB: Postgres 16
- Frontend: –≤–∞–Ω–∏–ª—å–Ω—ã–µ HTML/CSS/JS + EventSource (SSE), HTML5 Drag and Drop, i18n
- Runtime: Docker Compose, multi‚Äëstage —Å–±–æ—Ä–∫–∞

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ —è–∑—ã–∫–∏

- –Ø–∑—ã–∫–∏: Go, SQL, HTML5, CSS3, JavaScript (ES6+)
- –ü—Ä–æ—Ç–æ–∫–æ–ª—ã/–≤–µ–±‚ÄëAPI: HTTP/1.1, Server‚ÄëSent Events (EventSource), HTML5 Drag and Drop, DOM, Fetch API
- –ë–î –∏ –¥—Ä–∞–π–≤–µ—Ä—ã: PostgreSQL 16, pgx v5, database/sql
- UI –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å: –Ω–∞—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã (dialog, details/summary), aria‚Äë–∞—Ç—Ä–∏–±—É—Ç—ã, –∫–ª–∞–≤–∏–∞—Ç—É—Ä–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ –º–µ–Ω—é
- i18n: —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –ª—ë–≥–∫–∏–π —Ä–∞–Ω—Ç–∞–π–º (`web/i18n/i18n.js`) + —Å–ª–æ–≤–∞—Ä–∏ (`en.json`, `ru.json`)
- –°–±–æ—Ä–∫–∞/–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã: Docker multi‚Äëstage, distroless runtime image

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ üóÇÔ∏è

```
docker-compose.yml
Dockerfile
go.mod
README.md
server/
   api.go        // HTTP API –∏ SSE
   main.go       // –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞, —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
   models.go     // —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö/JSON
   store.go      // SQL, –º–∏–≥—Ä–∞—Ü–∏–∏, –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è
web/
   index.html    // —Ä–∞–∑–º–µ—Ç–∫–∞, –¥–∏–∞–ª–æ–≥–∏, –∏–∫–æ–Ω–∫–∏
   styles.css    // —Ç–µ–º—ã, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, DnD‚Äë–ø–æ–¥—Å–≤–µ—Ç–∫–∏
   app.js        // –ª–æ–≥–∏–∫–∞ UI, API, SSE, DnD, i18n –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –º–µ–Ω—é
   i18n/         // —Å–ª–æ–≤–∞—Ä–∏ en.json, ru.json –∏ —Ä–∞–Ω—Ç–∞–π–º i18n.js
```

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (Docker) üê≥

–¢—Ä–µ–±—É–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π Docker (Desktop) –∏ Docker Compose.

```powershell
docker compose up -d --build
```

–û—Ç–∫—Ä–æ–π—Ç–µ: http://localhost:8080

–û—Å—Ç–∞–Ω–æ–≤–∫–∞:

```powershell
docker compose down
```

–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ —á–µ—Ä–µ–∑ Taskfile (—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ go-task):

```powershell
task up    # —Å–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫
task logs  # –ª–æ–≥–∏
task down  # –æ—Å—Ç–∞–Ω–æ–≤–∫–∞
```

## –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ üíª

1) –ü–æ–¥–Ω–∏–º–∏—Ç–µ Postgres –∏–∑ compose –∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ. –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ:

```
postgres://postgres:postgres@localhost:5432/trellolite?sslmode=disable
```

2) –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä –ª–æ–∫–∞–ª—å–Ω–æ (–Ω—É–∂–µ–Ω Go):

```powershell
$env:DATABASE_URL = "postgres://postgres:postgres@localhost:5432/trellolite?sslmode=disable"
go run ./server
```

3) –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:8080

–ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞ —Å—Ç–∞—Ä—Ç–µ (—Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –∏ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö –∫–æ–ª–æ–Ω–æ–∫, –≤–∫–ª—é—á–∞—è color).

## –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è üîê

Trellolite –∏—Å–ø–æ–ª—å–∑—É–µ—Ç cookie‚Äë—Å–µ—Å—Å–∏–∏. –ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç —Ç–æ–ª—å–∫–æ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞ `/web/login.html` (–∫–æ—Ä–µ–Ω—å `/` –æ—Ç–¥–∞–µ—Ç –µ—ë –¥–æ –≤—Ö–æ–¥–∞). –ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –¥–æ—Å—Ç—É–ø–Ω—ã API –∏ UI –¥–æ—Å–æ–∫.

–≠–Ω–¥–ø–æ–∏–Ω—Ç—ã:
- POST /api/auth/register ‚Äî —Å–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (email+–ø–∞—Ä–æ–ª—å)
- POST /api/auth/login ‚Äî –≤–æ–π—Ç–∏
- POST /api/auth/logout ‚Äî –≤—ã–π—Ç–∏
- GET /api/auth/me ‚Äî —Ç–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (–∞–Ω–æ–Ω–∏–º–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `{user:null}`)
- GET /api/auth/providers ‚Äî –¥–æ—Å—Ç—É–ø–Ω—ã–µ OAuth –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã (GitHub/Google)
- GET /api/auth/oauth/github/start ‚Äî –Ω–∞—á–∞–ª–æ OAuth
- GET /api/auth/oauth/github/callback ‚Äî –∫–æ–ª–ª–±—ç–∫ OAuth
 - GET /api/auth/oauth/google/start ‚Äî –Ω–∞—á–∞–ª–æ OAuth
 - GET /api/auth/oauth/google/callback ‚Äî –∫–æ–ª–ª–±—ç–∫ OAuth
 - POST /api/auth/reset ‚Äî –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è (dev: magic‚Äëlink –ø–∏—à–µ—Ç—Å—è –≤ –ª–æ–≥–∏)
 - POST /api/auth/reset/confirm ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Å–±—Ä–æ—Å–∞ –ø–æ —Ç–æ–∫–µ–Ω—É

UI:
- `/web/login.html` —Å–æ–¥–µ—Ä–∂–∏—Ç —Ñ–æ—Ä–º—É email+–ø–∞—Ä–æ–ª—å –∏ –∫–Ω–æ–ø–∫—É ¬´–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ GitHub¬ª (–ø–æ—è–≤–ª—è–µ—Ç—Å—è, –µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω OAuth). –ö–Ω–æ–ø–∫–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω—ã –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–æ; ¬´–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è¬ª –∏ ¬´–ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å?¬ª –≤—ã–≥–ª—è–¥—è—Ç –∫–∞–∫ —Å—Å—ã–ª–∫–∏.
- –í –æ—Å–Ω–æ–≤–Ω–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ —Å–ª–µ–≤–∞ ‚Äî –ø–∞–Ω–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∏–º—è/–ø–æ—á—Ç–∞, –∏–Ω–∏—Ü–∏–∞–ª—ã) –∏ ¬´–í—ã–π—Ç–∏¬ª. –°–∞–π–¥–±–∞—Ä –º–æ–∂–Ω–æ —Å–≤–µ—Ä–Ω—É—Ç—å; –æ—Å—Ç–∞–Ω–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–Ω–æ–ø–∫–∞‚Äë–≥–∞–º–±—É—Ä–≥–µ—Ä.
- –°—Å—ã–ª–∫–∞ ¬´–ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å?¬ª —Å–æ–∑–¥–∞—ë—Ç dev‚Äëmagic‚Äëlink: —Ç–æ–∫–µ–Ω –≤—ã–≤–æ–¥–∏—Ç—Å—è –≤ –ª–æ–≥ —Å–µ—Ä–≤–µ—Ä–∞; –≤—Å—Ç–∞–≤—å—Ç–µ `#reset=...` –≤ URL —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤—Ö–æ–¥–∞, —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å —Ñ–æ—Ä–º—É –≤–≤–æ–¥–∞ –Ω–æ–≤–æ–≥–æ –ø–∞—Ä–æ–ª—è.

–§–∏–ª—å—Ç—Ä –≤–∏–¥–∏–º–æ—Å—Ç–∏ –¥–æ—Å–æ–∫:
- –í —à–∞–ø–∫–µ —Å–ø–∏—Å–∫–∞ –¥–æ—Å–æ–∫ ‚Äî –¥–≤–µ –æ—Ç–∂–∏–º–∞–µ–º—ã–µ –∫–Ω–æ–ø–∫–∏ ¬´–ú–æ–∏¬ª –∏ ¬´–ì—Ä—É–ø–ø—ã¬ª. –°–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç—Å—è –≤ localStorage.
   - –ú–æ–∏ ‚Äî –¥–æ—Å–∫–∏, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –≤–∞–º–∏
   - –ì—Ä—É–ø–ø—ã ‚Äî –¥–æ—Å–∫–∏, –æ—Ç–∫—Ä—ã—Ç—ã–µ –≥—Ä—É–ø–ø–∞–º, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –≤—ã —Å–æ—Å—Ç–æ–∏—Ç–µ
   - –û–±–µ –≤–∫–ª—é—á–µ–Ω—ã ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ.
   - –î–ª—è –¥–æ—Å–æ–∫, –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —á–µ—Ä–µ–∑ –≥—Ä—É–ø–ø—ã –∏ –Ω–µ –≤–∞–º–∏ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö, –≤ —Å–ø–∏—Å–∫–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∏–∫–æ–Ω–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

## API (–∫—Ä–∞—Ç–∫–æ) üì°

- Boards
   - GET /api/boards ‚Äî —Å–ø–∏—Å–æ–∫
   - POST /api/boards {title}
   - GET /api/boards/{id}, GET /api/boards/{id}/full
   - PATCH /api/boards/{id} {title?, color?}
   - POST /api/boards/{id}/move {new_index}
   - DELETE /api/boards/{id}
   - GET /api/boards/{id}/events ‚Äî SSE –ø–æ—Ç–æ–∫
- Lists
   - GET /api/boards/{id}/lists
   - POST /api/boards/{id}/lists {title}
   - PATCH /api/lists/{id} {title?, pos?, color?}
   - POST /api/lists/{id}/move {new_index, target_board_id?}
   - DELETE /api/lists/{id}
- Cards
   - GET /api/lists/{id}/cards
   - POST /api/lists/{id}/cards {title, description}
   - PATCH /api/cards/{id} {title?, description?, pos?, due_at?, color?}
   - POST /api/cards/{id}/move {target_list_id, new_index}
   - DELETE /api/cards/{id}
- Comments
   - GET /api/cards/{id}/comments
   - POST /api/cards/{id}/comments {body}

- Groups (–¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
   - GET /api/my/groups ‚Äî —Å–ø–∏—Å–æ–∫ –≥—Ä—É–ø–ø –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –µ–≥–æ —Ä–æ–ª—å
   - POST /api/groups {name} ‚Äî —Å–æ–∑–¥–∞—Ç—å —Å–≤–æ—é –≥—Ä—É–ø–ø—É (—Å–æ–∑–¥–∞—Ç–µ–ª—å ‚Äî –∞–¥–º–∏–Ω)
   - DELETE /api/groups/{id} ‚Äî —É–¥–∞–ª–∏—Ç—å —Å–≤–æ—é –≥—Ä—É–ø–ø—É (—Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω –≥—Ä—É–ø–ø—ã)
   - GET /api/groups/{id}/users ‚Äî —É—á–∞—Å—Ç–Ω–∏–∫–∏ –≥—Ä—É–ø–ø—ã
   - POST /api/groups/{id}/users {user_id} ‚Äî –¥–æ–±–∞–≤–∏—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–∞
   - DELETE /api/groups/{id}/users/{user_id} ‚Äî —É–±—Ä–∞—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–∞
   - POST /api/groups/{id}/leave ‚Äî –ø–æ–∫–∏–Ω—É—Ç—å –≥—Ä—É–ø–ø—É (–¥–ª—è –Ω–µ‚Äë–∞–¥–º–∏–Ω–æ–≤)

- Boards ‚Üî Groups
   - GET /api/boards/{id}/groups ‚Äî –≥—Ä—É–ø–ø—ã, —É –∫–æ—Ç–æ—Ä—ã—Ö –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ –¥–æ—Å–∫–µ
   - POST /api/boards/{id}/groups {group_id} ‚Äî –¥–∞—Ç—å –¥–æ—Å—Ç—É–ø –≥—Ä—É–ø–ø–µ (—Ç–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü –¥–æ—Å–∫–∏)
   - DELETE /api/boards/{id}/groups/{group_id} ‚Äî —É–±—Ä–∞—Ç—å –¥–æ—Å—Ç—É–ø (—Ç–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü –¥–æ—Å–∫–∏)

–û—Ç–≤–µ—Ç—ã ‚Äî JSON. –ù–∞ –æ—à–∏–±–∫–∏ ‚Äî { ok:false, error:"..." } –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π HTTP –∫–æ–¥.

## –°–æ–±—ã—Ç–∏—è SSE üîî

–ü–æ–¥–ø–∏—Å–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞: EventSource(`/api/boards/{id}/events`).

–ü—Ä–∏–º–µ—Ä—ã —Ç–∏–ø–æ–≤ —Å–æ–±—ã—Ç–∏–π: board.moved, board.updated, list.created|updated|deleted|moved, card.created|updated|deleted|moved, comment.created. –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –ª–æ–≥–∏–∫–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç UI –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ –ª–∏–±–æ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ç–∫—É –ø—Ä–∏ —Å–ª–æ–∂–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö.

## DnD –∏ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ üß≤

- –ü–æ–∑–∏—Ü–∏–∏ ‚Äî —Ä–∞–∑—Ä–µ–∂—ë–Ω–Ω—ã–µ —Ü–µ–ª—ã–µ (—à–∞–≥ 1000). –ü—Ä–∏ –Ω–µ—Ö–≤–∞—Ç–∫–µ –ø—Ä–æ–º–µ–∂—É—Ç–∫–∞ ‚Äî —Ñ–æ–Ω–æ–≤–∞—è –ø–µ—Ä–µ-–Ω—É–º–µ—Ä–∞—Ü–∏—è –∏ –ø–æ–≤—Ç–æ—Ä –ø–æ–ø—ã—Ç–∫–∏.
- DnD —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º ¬´—Ç—è–Ω—É—Ç—å —Ç–æ–ª—å–∫–æ –∑–∞ —Ö—ç–Ω–¥–ª¬ª –¥–ª—è —Å–ø–∏—Å–∫–æ–≤ –∏ –¥–æ—Å–æ–∫, —á—Ç–æ–±—ã –Ω–µ –ª–æ–º–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫–∏.
- –ü–µ—Ä–µ–Ω–æ—Å —Å–ø–∏—Å–∫–∞ –º–µ–∂–¥—É –¥–æ—Å–∫–∞–º–∏ ‚Äî –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ–º –∑–∞–≥–æ–ª–æ–≤–∫–∞ —Å–ø–∏—Å–∫–∞ –Ω–∞ –¥–æ—Å–∫—É –≤ —Å–∞–π–¥–±–∞—Ä–µ.

## –¶–≤–µ—Ç–∞ üé®

–ò–∫–æ–Ω–∫–∞ –ø–∞–ª–∏—Ç—Ä—ã –Ω–∞ –¥–æ—Å–∫–∞—Ö, —Å–ø–∏—Å–∫–∞—Ö –∏ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –¥–∏–∞–ª–æ–≥ –≤—ã–±–æ—Ä–∞ —Ü–≤–µ—Ç–∞:
- –ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Å–≤–æ—Ç—á–∏ + –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π —Ü–≤–µ—Ç
- –°–±—Ä–æ—Å (–±–µ–∑ —Ü–≤–µ—Ç–∞)
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —á–µ—Ä–µ–∑ PATCH color; UI —Ä–∞—Å–∫—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è, –¥—Ä—É–≥–∏–µ –∫–ª–∏–µ–Ω—Ç—ã –ø–æ–ª—É—á–∞—é—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ SSE.

## –ü—Ä–æ–µ–∫—Ç—ã üìÅ

–î–æ—Å–∫—É –º–æ–∂–Ω–æ –ø—Ä–∏–≤—è–∑–∞—Ç—å –∫ –ø—Ä–æ–µ–∫—Ç—É –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ (–≤ –¥–∏–∞–ª–æ–≥–µ). –°–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤ –¥–æ—Å—Ç—É–ø–µ–Ω –≤ –≤—ã–ø–∞–¥–∞—é—â–µ–º —Å–ø–∏—Å–∫–µ; –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –∏–∑ —Ç–æ–≥–æ –∂–µ –¥–∏–∞–ª–æ–≥–∞. –≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –¥–æ—Å–∫–∏ –ø–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É.

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è ‚öôÔ∏è

- ADDR ‚Äî –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `:8080`
- DATABASE_URL ‚Äî —Å—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Postgres; –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è docker `postgres://postgres:postgres@db:5432/trellolite?sslmode=disable`

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- SESSION_COOKIE_NAME ‚Äî –∏–º—è cookie —Å–µ—Å—Å–∏–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é trellolite_sess)
- SESSION_TTL ‚Äî —Å—Ä–æ–∫ –∂–∏–∑–Ω–∏ —Å–µ—Å—Å–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `336h` –¥–ª—è 14 –¥–Ω–µ–π)
- COOKIE_SAMESITE ‚Äî `lax` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é), `strict`, `none`
- COOKIE_SECURE ‚Äî `true` –≤ –ø—Ä–æ–¥–µ (HTTPS), `false` –≤ dev

OAuth (GitHub):
- OAUTH_GITHUB_CLIENT_ID
- OAUTH_GITHUB_CLIENT_SECRET
- OAUTH_GITHUB_REDIRECT_URL (–Ω–∞–ø—Ä–∏–º–µ—Ä, `http://localhost:8080/api/auth/oauth/github/callback`)

OAuth (Google):
SMTP (–¥–ª—è –ø–∏—Å–µ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è/—Å–±—Ä–æ—Å–∞):
- SMTP_HOST / SMTP_PORT
- SMTP_FROM
- SMTP_USERNAME / SMTP_PASSWORD (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

- OAUTH_GOOGLE_CLIENT_ID
- OAUTH_GOOGLE_CLIENT_SECRET
- OAUTH_GOOGLE_REDIRECT_URL (–Ω–∞–ø—Ä–∏–º–µ—Ä, `http://localhost:8080/api/auth/oauth/google/callback`)

–ü—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π GitHub‚Äë–ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤—Ö–æ–¥–∞ –ø–æ—è–≤–∏—Ç—Å—è –∫–Ω–æ–ø–∫–∞ ¬´–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ GitHub¬ª. –°–µ—Å—Å–∏–∏ ‚Äî cookie httpOnly.

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ OAuth (GitHub)

1) –°–æ–∑–¥–∞–π—Ç–µ OAuth App –≤ GitHub: Settings ‚Üí Developer settings ‚Üí OAuth Apps ‚Üí New OAuth App.
   - Homepage URL: `http://localhost:8080`
   - Authorization callback URL: `http://localhost:8080/api/auth/oauth/github/callback`
2) –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∏ —Å–µ–∫—Ä–µ—Ç:

```env
OAUTH_GITHUB_CLIENT_ID=...
OAUTH_GITHUB_CLIENT_SECRET=...
OAUTH_GITHUB_REDIRECT_URL=http://localhost:8080/api/auth/oauth/github/callback
```

3) –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:

```powershell
docker compose up -d --build
```

Compose –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Ö–≤–∞—Ç–∏—Ç `.env`. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –∫–Ω–æ–ø–∫–∞ GitHub –ø–æ—è–≤–∏—Ç—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤—Ö–æ–¥–∞, –∞ –ø–æ–ª–Ω—ã–π OAuth‚Äë—Ñ–ª–æ—É –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç.

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ OAuth (Google)

1) –°–æ–∑–¥–∞–π—Ç–µ OAuth‚Äë–∫–ª–∏–µ–Ω—Ç –≤ Google Cloud Console: APIs & Services ‚Üí Credentials ‚Üí Create Credentials ‚Üí OAuth client ID (Application type: Web application).
   - Authorized JavaScript origins: `http://localhost:8080`
   - Authorized redirect URIs: `http://localhost:8080/api/auth/oauth/google/callback`
2) –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ `.env`:

```env
OAUTH_GOOGLE_CLIENT_ID=...
OAUTH_GOOGLE_CLIENT_SECRET=...
OAUTH_GOOGLE_REDIRECT_URL=http://localhost:8080/api/auth/oauth/google/callback
```

3) –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:

```powershell
docker compose up -d --build
```

–ö–Ω–æ–ø–∫–∞ Google –ø–æ—è–≤–∏—Ç—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤—Ö–æ–¥–∞, –µ—Å–ª–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä —Å–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω.

### Rate limiting –∏ dev‚Äë—Å–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è

–î–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è brute‚Äëforce –Ω–∞ `/api/auth/register|login|reset|reset/confirm` –¥–µ–π—Å—Ç–≤—É–µ—Ç –ø—Ä–æ—Å—Ç–∞—è in‚Äëmemory –∫–≤–æ—Ç–∞ –Ω–∞ IP (–Ω–∞ dev —Å–µ—Ä–≤–µ—Ä–µ). –í –ø—Ä–æ–¥–µ –∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–Ω–µ—à–Ω–∏–π middleware/–ø—Ä–æ–∫—Å–∏.

Dev‚Äë—Å–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è: POST `/api/auth/reset` –ª–æ–≥–∏—Ä—É–µ—Ç magic‚Äëlink (—Ç–æ–∫–µ–Ω) –≤ stdout; –æ—Ç–∫—Ä–æ–π—Ç–µ `/web/login.html#reset={token}` –∏ —É–∫–∞–∂–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å. –î–ª—è –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏ –æ—Ç–≤–µ—Ç –≤—Å–µ–≥–¥–∞ ¬´ok¬ª, –¥–∞–∂–µ –µ—Å–ª–∏ email –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.

## –¢—ë–º–Ω–∞—è/—Å–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞ üåó

–ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –≤ –ª–µ–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É (light/dark/auto). –•—Ä–∞–Ω–∏—Ç—Å—è –≤ localStorage.

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∫–∞—á–µ—Å—Ç–≤–æ ‚úÖ

- –ü—Ä–∏ —Å–±–æ—Ä–∫–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è multi‚Äëstage Docker; –±–∏–Ω–∞—Ä–Ω–∏–∫ –Ω–∞ distroless image
- –õ–æ–≥–∏ HTTP —Å –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é (slog JSON)
- –ú–∏–≥—Ä–∞—Ü–∏–∏ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –Ω–∞ —Å—Ç–∞—Ä—Ç–µ (idempotent)

## –¢—Ä–∞–±–ª—à—É—Ç–∏–Ω–≥ üõ†Ô∏è

- –û—à–∏–±–∫–∞ –≤–∏–¥–∞ `column "color" does not exist` ‚Äî –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–¥–∞: –º–∏–≥—Ä–∞—Ü–∏—è –¥–æ–±–∞–≤–∏—Ç –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –∫–æ–ª–æ–Ω–∫–∏.

```powershell
docker compose up -d --build
```

- –ü–æ—Ä—Ç 8080 –∑–∞–Ω—è—Ç ‚Äî –∑–∞–¥–∞–π—Ç–µ `ADDR`, –Ω–∞–ø—Ä–∏–º–µ—Ä `:8081`.

## –õ–∏—Ü–µ–Ω–∑–∏—è üìÑ

MIT. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–≤–æ–±–æ–¥–Ω–æ –≤ —É—á–µ–±–Ω—ã—Ö –∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ü–µ–ª—è—Ö.

